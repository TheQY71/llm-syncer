<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="UTF-8" />
        <title>Multi LLM Broadcaster</title>
        <link rel="stylesheet" href="popup.css" />
    </head>
    <body>
        <div class="panel">
            <div class="input-card">
                <textarea
                    id="prompt"
                    placeholder="输入要同步给多个 LLM 的问题"
                ></textarea>
                <div class="toolbar">
                    <div class="toolbar-left">
                        <button
                            class="btn-icon"
                            id="openSettings"
                            aria-label="设置"
                            title="设置"
                        >
                            <span aria-hidden="true">⚙️</span>
                        </button>
                        <button
                            class="btn-icon"
                            id="saveFavorite"
                            aria-label="收藏当前提示词"
                            title="收藏"
                        >
                            <span aria-hidden="true">★</span>
                            <span class="sr-only">收藏</span>
                        </button>
                        <button
                            class="btn-icon"
                            id="clearPrompt"
                            aria-label="清空输入框"
                            title="清空"
                        >
                            <span aria-hidden="true">⌫</span>
                            <span class="sr-only">清空</span>
                        </button>
                    </div>
                    <div class="toolbar-right">
                        <label class="toggle-inline" title="填入后自动发送">
                            <input type="checkbox" id="autoSend" />
                            <span>提交</span>
                        </label>
                        <button
                            class="btn-icon btn-icon-primary"
                            id="send"
                            aria-label="填入到已选 LLM"
                            title="填入到已选 LLM"
                        >
                            <span aria-hidden="true">✈</span>
                            <span class="sr-only">填入到已选 LLM</span>
                        </button>
                    </div>
                </div>
            </div>

            <div class="accordion" id="favorites-accordion">
                <button
                    class="accordion-header"
                    id="favorites-header"
                    aria-expanded="false"
                >
                    <div class="accordion-title">
                        <span class="title-dot small"></span>
                        <span>收藏 (Saved)</span>
                        <span id="favorites-count"></span>
                    </div>
                    <span class="accordion-icon" aria-hidden="true">▸</span>
                </button>
                <div class="accordion-body collapsed" id="favorites-body">
                    <div class="favorites-list" id="favorites-list"></div>
                </div>
            </div>

            <div class="accordion" id="llm-accordion">
                <button
                    class="accordion-header"
                    id="llm-header"
                    aria-expanded="false"
                >
                    <div class="accordion-title">
                        <span class="title-dot small"></span>
                        <span>LLM 开关列表</span>
                    </div>
                    <span class="accordion-icon" aria-hidden="true">▸</span>
                </button>
                <div class="accordion-body collapsed" id="llm-body">
                    <div class="llm-section" id="llm-list"></div>
                </div>
            </div>

            <div class="status" id="status"></div>
        </div>

        <div class="modal-backdrop" id="settings-modal">
            <div class="modal">
                <h3><span class="title-dot small"></span>设置</h3>
                <button
                    class="btn-icon modal-close"
                    id="settings-close"
                    aria-label="关闭设置"
                    title="关闭"
                >
                    <span aria-hidden="true">×</span>
                </button>

                <div class="flex flex-col gap-3">
                    <div class="text-sm font-semibold">主题</div>
                    <div class="grid grid-cols-1 gap-2">
                        <label
                            class="flex items-center gap-2 cursor-pointer text-sm"
                        >
                            <input
                                type="radio"
                                name="theme"
                                value="noir"
                                checked
                            />
                            <span>Noir Minimal</span>
                        </label>
                        <label
                            class="flex items-center gap-2 cursor-pointer text-sm"
                        >
                            <input type="radio" name="theme" value="cyber" />
                            <span>Cyber Glow</span>
                        </label>
                        <label
                            class="flex items-center gap-2 cursor-pointer text-sm"
                        >
                            <input type="radio" name="theme" value="glass" />
                            <span>Glass Aurora</span>
                        </label>
                        <label
                            class="flex items-center gap-2 cursor-pointer text-sm"
                        >
                            <input type="radio" name="theme" value="zen" />
                            <span>Zen Paper</span>
                        </label>
                    </div>
                </div>

                <div class="flex flex-col gap-3">
                    <div class="text-sm font-semibold">注入模式</div>
                    <div class="flex flex-col gap-2">
                        <label
                            class="flex items-center gap-2 cursor-pointer text-sm"
                        >
                            <input
                                type="radio"
                                name="injectionMode"
                                value="replace"
                                checked
                            />
                            <span>替换模式（清空原有内容）</span>
                        </label>
                        <label
                            class="flex items-center gap-2 cursor-pointer text-sm"
                        >
                            <input
                                type="radio"
                                name="injectionMode"
                                value="append"
                            />
                            <span>追加模式（保留原有内容）</span>
                        </label>
                    </div>
                </div>

                <div class="flex items-center gap-2">
                    <input type="checkbox" id="showStatusToggle" checked />
                    <span class="text-sm">显示状态栏</span>
                </div>
            </div>
        </div>

        <div class="modal-backdrop" id="favorite-modal">
            <div class="modal">
                <h3><span class="title-dot small"></span>收藏提示词</h3>
                <input
                    type="text"
                    id="favorite-title-input"
                    class="favorite-title-input text-field"
                    placeholder="可选标题（留空则使用内容生成）"
                />
                <textarea
                    id="favorite-prompt-input"
                    placeholder="要收藏的提示词"
                ></textarea>
                <div class="modal-actions">
                    <button class="mini-button" id="favorite-cancel">
                        取消
                    </button>
                    <button class="mini-button" id="favorite-save">收藏</button>
                </div>
            </div>
        </div>

        <script src="popup.js"></script>
    </body>
</html>
